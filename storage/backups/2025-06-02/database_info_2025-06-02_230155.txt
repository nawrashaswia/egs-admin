ğŸ—„ï¸ EG-ADMIN DATABASE STRUCTURE
ğŸ•’ Generated: 2025-06-02 23:01:55

ğŸ“› Database: u691180354_egsadmin
ğŸ”¤ Charset: utf8mb4

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‚ Table: `attachment_rules`
-----------------------------------
ğŸ§± id â€” int NOT NULL [auto_increment]
ğŸ§± rule_name â€” varchar(100) NOT NULL
ğŸ§± allowed_extensions â€” varchar(255) NULL
ğŸ§± max_size_mb â€” int NULL DEFAULT '25'
ğŸ§± notes â€” text NULL
ğŸ§± is_active â€” tinyint(1) NULL DEFAULT '1'
ğŸ§± created_at â€” datetime NULL DEFAULT 'CURRENT_TIMESTAMP' [DEFAULT_GENERATED]
ğŸ§± updated_at â€” datetime NULL DEFAULT 'CURRENT_TIMESTAMP' [DEFAULT_GENERATED]

ğŸ“‚ Table: `attachments`
-----------------------------------
ğŸ§± id â€” int NOT NULL [auto_increment]
ğŸ§± module â€” varchar(50) NOT NULL
ğŸ§± reference_number â€” varchar(50) NOT NULL
ğŸ§± file_name â€” varchar(255) NOT NULL
ğŸ§± uploaded_by â€” int NULL
ğŸ§± uploaded_at â€” datetime NULL DEFAULT 'CURRENT_TIMESTAMP' [DEFAULT_GENERATED]
ğŸ§± is_deleted â€” tinyint(1) NULL DEFAULT '0'

ğŸ“‚ Table: `construction_logs`
-----------------------------------
ğŸ§± id â€” int NOT NULL [auto_increment]
ğŸ§± trace_id â€” varchar(64) NULL
ğŸ§± event â€” varchar(255) NOT NULL
ğŸ§± level â€” varchar(16) NOT NULL
ğŸ§± user â€” varchar(64) NOT NULL
ğŸ§± mode â€” varchar(32) NOT NULL DEFAULT 'trace'
ğŸ§± ip â€” varchar(45) NOT NULL
ğŸ§± timestamp â€” datetime NOT NULL
ğŸ§± context â€” json NULL

ğŸ“‚ Table: `countries`
-----------------------------------
ğŸ§± id â€” int NOT NULL [auto_increment]
ğŸ§± name â€” varchar(100) NOT NULL
ğŸ§± iso_code â€” char(2) NOT NULL
ğŸ§± default_currency_code â€” varchar(10) NULL
ğŸ§± local_number_length â€” int NULL DEFAULT '8'
ğŸ§± base_dial_key â€” varchar(10) NULL
ğŸ§± accepted_prefixes â€” text NULL
ğŸ§± timezone â€” varchar(50) NULL
ğŸ§± flag_image â€” varchar(255) NULL
ğŸ§± is_active â€” tinyint(1) NULL DEFAULT '1'

ğŸ“‚ Table: `logs`
-----------------------------------
ğŸ§± id â€” int NOT NULL [auto_increment]
ğŸ§± trace_id â€” varchar(64) NULL
ğŸ§± event â€” varchar(255) NOT NULL
ğŸ§± level â€” varchar(16) NOT NULL
ğŸ§± user â€” varchar(64) NOT NULL
ğŸ§± mode â€” varchar(32) NOT NULL DEFAULT 'system'
ğŸ§± ip â€” varchar(45) NOT NULL
ğŸ§± timestamp â€” datetime NOT NULL
ğŸ§± context â€” json NULL
ğŸ§± tag â€” varchar(64) NULL

ğŸ“‚ Table: `permissions`
-----------------------------------
ğŸ§± id â€” int NOT NULL [auto_increment]
ğŸ§± permission_key â€” varchar(255) NULL
ğŸ§± module â€” varchar(100) NULL
ğŸ§± file â€” varchar(100) NULL
ğŸ§± type â€” enum('view','controller') NULL
ğŸ§± target â€” varchar(150) NOT NULL
ğŸ§± description â€” text NULL

ğŸ“‚ Table: `role_permissions`
-----------------------------------
ğŸ§± id â€” int NOT NULL [auto_increment]
ğŸ§± role_id â€” int NULL
ğŸ§± permission_id â€” int NULL

ğŸ”— Foreign Keys:
  ğŸ”¸ role_id â†’ roles.id
  ğŸ”¸ permission_id â†’ permissions.id

ğŸ“‚ Table: `roles`
-----------------------------------
ğŸ§± id â€” int NOT NULL [auto_increment]
ğŸ§± name â€” varchar(100) NULL
ğŸ§± description â€” text NULL

ğŸ“‚ Table: `sequence_tracker`
-----------------------------------
ğŸ§± module_name â€” varchar(100) NOT NULL
ğŸ§± prefix â€” varchar(10) NOT NULL
ğŸ§± last_hi_value â€” int NOT NULL DEFAULT '0'
ğŸ§± block_size â€” int NOT NULL DEFAULT '100'
ğŸ§± updated_at â€” timestamp NULL DEFAULT 'CURRENT_TIMESTAMP' [DEFAULT_GENERATED on update CURRENT_TIMESTAMP]
ğŸ§± lo_cursor â€” int NULL DEFAULT '0'

ğŸ“‚ Table: `trace_sessions`
-----------------------------------
ğŸ§± trace_id â€” varchar(64) NOT NULL
ğŸ§± started_at â€” datetime NULL
ğŸ§± started_by â€” varchar(100) NULL
ğŸ§± file â€” varchar(255) NULL
ğŸ§± is_closed â€” tinyint(1) NULL
ğŸ§± notes â€” text NULL

ğŸ“‚ Table: `user_roles`
-----------------------------------
ğŸ§± id â€” int NOT NULL [auto_increment]
ğŸ§± user_id â€” int NULL
ğŸ§± role_id â€” int NULL

ğŸ”— Foreign Keys:
  ğŸ”¸ user_id â†’ users.id
  ğŸ”¸ role_id â†’ roles.id

ğŸ“‚ Table: `users`
-----------------------------------
ğŸ§± id â€” int NOT NULL [auto_increment]
ğŸ§± username â€” varchar(50) NOT NULL
ğŸ§± password â€” varchar(255) NOT NULL
ğŸ§± full_name â€” varchar(150) NULL
ğŸ§± role â€” varchar(50) NULL DEFAULT 'User'
ğŸ§± status â€” enum('Active','Inactive') NULL DEFAULT 'Active'
ğŸ§± avatar â€” varchar(255) NULL
ğŸ§± created_at â€” datetime NULL DEFAULT 'CURRENT_TIMESTAMP' [DEFAULT_GENERATED]
ğŸ§± last_login â€” datetime NULL
